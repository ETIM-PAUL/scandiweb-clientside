{"ast":null,"code":"import { addToCart, getTotals } from \"../../redux/cartSlice\";\nexport function mapStateToProps(state) {\n  return {\n    currency: state.selection[\"selectedCurrency\"]\n  };\n}\nexport function mapDispatchToProps(dispatch) {\n  return {\n    addToCart: product => dispatch(addToCart(product)),\n    getTotals: () => dispatch(getTotals())\n  };\n}\nexport const addProductToCart = (product, attributes) => {\n  let attribute = attributes;\n  addToCart({\n    product,\n    attribute\n  });\n  getTotals();\n  predefinedAttributes(product, attributes);\n};\nexport const setAttributes = (itm, attr, attributes) => {\n  let attribute = attributes;\n  let a = {\n    [attr]: itm.id\n  };\n  let ab = Object.assign(attribute, a);\n  this.setState({\n    attributes: ab\n  });\n};\nexport const predefinedAttributes = (product, attributes) => {\n  const attributeId = product.attributes.map(attr => attr.id);\n  const itemAttributes = product.attributes.map(attr => attr);\n  const attribute = itemAttributes.map(itm => itm.items[0].id);\n  let ab = {};\n  attributeId.forEach((value1, index) => {\n    const value2 = attribute[index];\n    let a = {\n      [value1]: value2\n    };\n    ab = Object.assign(ab, a);\n  });\n  this.setState({\n    attributes: ab\n  });\n};","map":{"version":3,"sources":["/Users/admin/Documents/product-cart/products-cart/src/components/Product-Details/util.ts"],"names":["addToCart","getTotals","mapStateToProps","state","currency","selection","mapDispatchToProps","dispatch","product","addProductToCart","attributes","attribute","predefinedAttributes","setAttributes","itm","attr","a","id","ab","Object","assign","setState","attributeId","map","itemAttributes","items","forEach","value1","index","value2"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,SAApB,QAAqC,uBAArC;AAEA,OAAO,SAASC,eAAT,CAAyBC,KAAzB,EAAqC;AAC1C,SAAO;AACLC,IAAAA,QAAQ,EAAED,KAAK,CAACE,SAAN,CAAgB,kBAAhB;AADL,GAAP;AAGD;AACD,OAAO,SAASC,kBAAT,CAA4BC,QAA5B,EAA2C;AAChD,SAAO;AACLP,IAAAA,SAAS,EAAGQ,OAAD,IAAkBD,QAAQ,CAACP,SAAS,CAACQ,OAAD,CAAV,CADhC;AAELP,IAAAA,SAAS,EAAE,MAAMM,QAAQ,CAACN,SAAS,EAAV;AAFpB,GAAP;AAID;AAED,OAAO,MAAMQ,gBAAgB,GAAG,CAACD,OAAD,EAAcE,UAAd,KAA6B;AAC3D,MAAIC,SAAS,GAAGD,UAAhB;AACAV,EAAAA,SAAS,CAAC;AAAEQ,IAAAA,OAAF;AAAWG,IAAAA;AAAX,GAAD,CAAT;AACAV,EAAAA,SAAS;AACTW,EAAAA,oBAAoB,CAACJ,OAAD,EAAUE,UAAV,CAApB;AACD,CALM;AAOP,OAAO,MAAMG,aAAa,GAAG,CAACC,GAAD,EAAsBC,IAAtB,EAAoCL,UAApC,KAAoD;AAC/E,MAAIC,SAAS,GAAGD,UAAhB;AACA,MAAIM,CAAC,GAAG;AAAE,KAACD,IAAD,GAAQD,GAAG,CAACG;AAAd,GAAR;AACA,MAAIC,EAAE,GAAGC,MAAM,CAACC,MAAP,CAAcT,SAAd,EAAyBK,CAAzB,CAAT;AACA,OAAKK,QAAL,CAAc;AAAEX,IAAAA,UAAU,EAAEQ;AAAd,GAAd;AACD,CALM;AAOP,OAAO,MAAMN,oBAAoB,GAAG,CAACJ,OAAD,EAAUE,UAAV,KAAyB;AAC3D,QAAMY,WAAW,GAAGd,OAAO,CAACE,UAAR,CAAmBa,GAAnB,CAAwBR,IAAD,IAAUA,IAAI,CAACE,EAAtC,CAApB;AACA,QAAMO,cAAc,GAAGhB,OAAO,CAACE,UAAR,CAAmBa,GAAnB,CAAwBR,IAAD,IAAUA,IAAjC,CAAvB;AACA,QAAMJ,SAAS,GAAGa,cAAc,CAACD,GAAf,CAAoBT,GAAD,IAASA,GAAG,CAACW,KAAJ,CAAU,CAAV,EAAaR,EAAzC,CAAlB;AACA,MAAIC,EAAE,GAAG,EAAT;AACAI,EAAAA,WAAW,CAACI,OAAZ,CAAoB,CAACC,MAAD,EAASC,KAAT,KAAmB;AACrC,UAAMC,MAAM,GAAGlB,SAAS,CAACiB,KAAD,CAAxB;AACA,QAAIZ,CAAC,GAAG;AAAE,OAACW,MAAD,GAAUE;AAAZ,KAAR;AACAX,IAAAA,EAAE,GAAGC,MAAM,CAACC,MAAP,CAAcF,EAAd,EAAkBF,CAAlB,CAAL;AACD,GAJD;AAKA,OAAKK,QAAL,CAAc;AAAEX,IAAAA,UAAU,EAAEQ;AAAd,GAAd;AACD,CAXM","sourcesContent":["import { addToCart, getTotals } from \"../../redux/cartSlice\";\n\nexport function mapStateToProps(state: any) {\n  return {\n    currency: state.selection[\"selectedCurrency\"],\n  };\n}\nexport function mapDispatchToProps(dispatch: any) {\n  return {\n    addToCart: (product: any) => dispatch(addToCart(product)),\n    getTotals: () => dispatch(getTotals()),\n  };\n}\n\nexport const addProductToCart = (product: {}, attributes) => {\n  let attribute = attributes;\n  addToCart({ product, attribute });\n  getTotals();\n  predefinedAttributes(product, attributes);\n}\n\nexport const setAttributes = (itm: { id: string }, attr: string, attributes, ) =>{\n  let attribute = attributes;\n  let a = { [attr]: itm.id };\n  let ab = Object.assign(attribute, a);\n  this.setState({ attributes: ab });\n}\n\nexport const predefinedAttributes = (product, attributes) => {\n  const attributeId = product.attributes.map((attr) => attr.id);\n  const itemAttributes = product.attributes.map((attr) => attr);\n  const attribute = itemAttributes.map((itm) => itm.items[0].id);\n  let ab = {};\n  attributeId.forEach((value1, index) => {\n    const value2 = attribute[index];\n    let a = { [value1]: value2 };\n    ab = Object.assign(ab, a);\n  });\n  this.setState({ attributes: ab });\n}"]},"metadata":{},"sourceType":"module"}
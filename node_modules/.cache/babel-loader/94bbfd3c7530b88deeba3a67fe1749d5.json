{"ast":null,"code":"import { addToCart, getTotals } from \"../../redux/cartSlice\";\nexport function mapStateToProps(state) {\n  return {\n    category: state.selection[\"selectedCategory\"],\n    currency: state.selection[\"selectedCurrency\"]\n  };\n}\nexport function mapDispatchToProps(dispatch) {\n  return {\n    addToCart: product => dispatch(addToCart(product)),\n    getTotals: () => dispatch(getTotals())\n  };\n}\nexport const addProductToCart = product => {\n  let attribute = {};\n\n  function predefinedAttributes() {\n    const attributeId = product.attributes.map(attr => attr.id);\n    const itemAttributes = product.attributes.map(attr => attr);\n    const attr = itemAttributes.map(itm => itm.items[0].id);\n    attributeId.forEach((value1, index) => {\n      const value2 = attr[index];\n      let a = {\n        [value1]: value2\n      };\n      attribute = Object.assign(attribute, a);\n    });\n  }\n\n  predefinedAttributes();\n  addToCart({\n    product,\n    attribute\n  });\n  getTotals();\n};","map":{"version":3,"sources":["/Users/admin/Documents/product-cart/products-cart/src/components/Products-Listing/utils.ts"],"names":["addToCart","getTotals","mapStateToProps","state","category","selection","currency","mapDispatchToProps","dispatch","product","addProductToCart","attribute","predefinedAttributes","attributeId","attributes","map","attr","id","itemAttributes","itm","items","forEach","value1","index","value2","a","Object","assign"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,SAApB,QAAqC,uBAArC;AAEA,OAAQ,SAASC,eAAT,CAAyBC,KAAzB,EAAqC;AAC3C,SAAO;AACLC,IAAAA,QAAQ,EAAED,KAAK,CAACE,SAAN,CAAgB,kBAAhB,CADL;AAELC,IAAAA,QAAQ,EAAEH,KAAK,CAACE,SAAN,CAAgB,kBAAhB;AAFL,GAAP;AAID;AAED,OAAO,SAASE,kBAAT,CAA4BC,QAA5B,EAA2C;AAChD,SAAO;AACLR,IAAAA,SAAS,EAAGS,OAAD,IAAkBD,QAAQ,CAACR,SAAS,CAACS,OAAD,CAAV,CADhC;AAELR,IAAAA,SAAS,EAAE,MAAMO,QAAQ,CAACP,SAAS,EAAV;AAFpB,GAAP;AAID;AAED,OAAO,MAAOS,gBAAgB,GAAID,OAAD,IAAY;AAC3C,MAAIE,SAAS,GAAG,EAAhB;;AACA,WAASC,oBAAT,GAAgC;AAC9B,UAAMC,WAAW,GAAGJ,OAAO,CAACK,UAAR,CAAmBC,GAAnB,CAAwBC,IAAD,IAAeA,IAAI,CAACC,EAA3C,CAApB;AACA,UAAMC,cAAc,GAAGT,OAAO,CAACK,UAAR,CAAmBC,GAAnB,CAAwBC,IAAD,IAAUA,IAAjC,CAAvB;AACA,UAAMA,IAAI,GAAGE,cAAc,CAACH,GAAf,CAAoBI,GAAD,IAAcA,GAAG,CAACC,KAAJ,CAAU,CAAV,EAAaH,EAA9C,CAAb;AACAJ,IAAAA,WAAW,CAACQ,OAAZ,CAAoB,CAACC,MAAD,EAASC,KAAT,KAAmB;AACrC,YAAMC,MAAM,GAAGR,IAAI,CAACO,KAAD,CAAnB;AACA,UAAIE,CAAC,GAAG;AAAE,SAACH,MAAD,GAAUE;AAAZ,OAAR;AACAb,MAAAA,SAAS,GAAGe,MAAM,CAACC,MAAP,CAAchB,SAAd,EAAyBc,CAAzB,CAAZ;AACD,KAJD;AAKD;;AACDb,EAAAA,oBAAoB;AACpBZ,EAAAA,SAAS,CAAC;AAAES,IAAAA,OAAF;AAAWE,IAAAA;AAAX,GAAD,CAAT;AACAV,EAAAA,SAAS;AACV,CAfM","sourcesContent":["import { addToCart, getTotals } from \"../../redux/cartSlice\";\n\nexport  function mapStateToProps(state: any) {\n  return {\n    category: state.selection[\"selectedCategory\"],\n    currency: state.selection[\"selectedCurrency\"],\n  };\n}\n\nexport function mapDispatchToProps(dispatch: any) {\n  return {\n    addToCart: (product: any) => dispatch(addToCart(product)),\n    getTotals: () => dispatch(getTotals()),\n  };\n}\n\nexport const  addProductToCart = (product)=> {\n  let attribute = {};\n  function predefinedAttributes() {\n    const attributeId = product.attributes.map((attr: any) => attr.id);\n    const itemAttributes = product.attributes.map((attr) => attr);\n    const attr = itemAttributes.map((itm: any) => itm.items[0].id);\n    attributeId.forEach((value1, index) => {\n      const value2 = attr[index];\n      let a = { [value1]: value2 };\n      attribute = Object.assign(attribute, a);\n    });\n  }\n  predefinedAttributes();\n  addToCart({ product, attribute });\n  getTotals();\n}"]},"metadata":{},"sourceType":"module"}
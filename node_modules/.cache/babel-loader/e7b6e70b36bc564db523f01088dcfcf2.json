{"ast":null,"code":"import { addToCart, getTotals } from \"../../redux/cartSlice\";\nexport function mapStateToProps(state) {\n  return {\n    currency: state.selection[\"selectedCurrency\"]\n  };\n}\nexport function mapDispatchToProps(dispatch) {\n  return {\n    addToCart: product => dispatch(addToCart(product)),\n    getTotals: () => dispatch(getTotals())\n  };\n}\nexport const addProductToCart = product => {\n  let attribute = this.state.attributes;\n  console.log(attribute);\n  this.props.addToCart({\n    product,\n    attribute\n  });\n  this.props.getTotals();\n  this.predefinedAttributes();\n};\nexport const setAttributes = (itm, attr) => {\n  let attribute = this.state.attributes;\n  let a = {\n    [attr]: itm.id\n  };\n  let ab = Object.assign(attribute, a);\n  this.setState({\n    attributes: ab\n  });\n};\nexport const predefinedAttributes = () => {\n  const attributeId = this.state.product.attributes.map(attr => attr.id);\n  const itemAttributes = this.state.product.attributes.map(attr => attr);\n  const attribute = itemAttributes.map(itm => itm.items[0].id);\n  let ab = {};\n  attributeId.forEach((value1, index) => {\n    const value2 = attribute[index];\n    let a = {\n      [value1]: value2\n    };\n    ab = Object.assign(ab, a);\n  });\n  this.setState({\n    attributes: ab\n  });\n};","map":{"version":3,"sources":["/Users/admin/Documents/product-cart/products-cart/src/components/Product-Details/util.ts"],"names":["addToCart","getTotals","mapStateToProps","state","currency","selection","mapDispatchToProps","dispatch","product","addProductToCart","attribute","attributes","console","log","props","predefinedAttributes","setAttributes","itm","attr","a","id","ab","Object","assign","setState","attributeId","map","itemAttributes","items","forEach","value1","index","value2"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,SAApB,QAAqC,uBAArC;AAEA,OAAO,SAASC,eAAT,CAAyBC,KAAzB,EAAqC;AAC1C,SAAO;AACLC,IAAAA,QAAQ,EAAED,KAAK,CAACE,SAAN,CAAgB,kBAAhB;AADL,GAAP;AAGD;AACD,OAAO,SAASC,kBAAT,CAA4BC,QAA5B,EAA2C;AAChD,SAAO;AACLP,IAAAA,SAAS,EAAGQ,OAAD,IAAkBD,QAAQ,CAACP,SAAS,CAACQ,OAAD,CAAV,CADhC;AAELP,IAAAA,SAAS,EAAE,MAAMM,QAAQ,CAACN,SAAS,EAAV;AAFpB,GAAP;AAID;AAED,OAAO,MAAMQ,gBAAgB,GAAID,OAAD,IAAiB;AAC/C,MAAIE,SAAS,GAAG,KAAKP,KAAL,CAAWQ,UAA3B;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYH,SAAZ;AACA,OAAKI,KAAL,CAAWd,SAAX,CAAqB;AAAEQ,IAAAA,OAAF;AAAWE,IAAAA;AAAX,GAArB;AACA,OAAKI,KAAL,CAAWb,SAAX;AACA,OAAKc,oBAAL;AACD,CANM;AAQP,OAAO,MAAMC,aAAa,GAAG,CAACC,GAAD,EAAsBC,IAAtB,KAAsC;AACjE,MAAIR,SAAS,GAAG,KAAKP,KAAL,CAAWQ,UAA3B;AACA,MAAIQ,CAAC,GAAG;AAAE,KAACD,IAAD,GAAQD,GAAG,CAACG;AAAd,GAAR;AACA,MAAIC,EAAE,GAAGC,MAAM,CAACC,MAAP,CAAcb,SAAd,EAAyBS,CAAzB,CAAT;AACA,OAAKK,QAAL,CAAc;AAAEb,IAAAA,UAAU,EAAEU;AAAd,GAAd;AACD,CALM;AAOP,OAAO,MAAMN,oBAAoB,GAAG,MAAM;AACxC,QAAMU,WAAW,GAAG,KAAKtB,KAAL,CAAWK,OAAX,CAAmBG,UAAnB,CAA8Be,GAA9B,CAAmCR,IAAD,IAAUA,IAAI,CAACE,EAAjD,CAApB;AACA,QAAMO,cAAc,GAAG,KAAKxB,KAAL,CAAWK,OAAX,CAAmBG,UAAnB,CAA8Be,GAA9B,CAAmCR,IAAD,IAAUA,IAA5C,CAAvB;AACA,QAAMR,SAAS,GAAGiB,cAAc,CAACD,GAAf,CAAoBT,GAAD,IAASA,GAAG,CAACW,KAAJ,CAAU,CAAV,EAAaR,EAAzC,CAAlB;AACA,MAAIC,EAAE,GAAG,EAAT;AACAI,EAAAA,WAAW,CAACI,OAAZ,CAAoB,CAACC,MAAD,EAASC,KAAT,KAAmB;AACrC,UAAMC,MAAM,GAAGtB,SAAS,CAACqB,KAAD,CAAxB;AACA,QAAIZ,CAAC,GAAG;AAAE,OAACW,MAAD,GAAUE;AAAZ,KAAR;AACAX,IAAAA,EAAE,GAAGC,MAAM,CAACC,MAAP,CAAcF,EAAd,EAAkBF,CAAlB,CAAL;AACD,GAJD;AAKA,OAAKK,QAAL,CAAc;AAAEb,IAAAA,UAAU,EAAEU;AAAd,GAAd;AACD,CAXM","sourcesContent":["import { addToCart, getTotals } from \"../../redux/cartSlice\";\n\nexport function mapStateToProps(state: any) {\n  return {\n    currency: state.selection[\"selectedCurrency\"],\n  };\n}\nexport function mapDispatchToProps(dispatch: any) {\n  return {\n    addToCart: (product: any) => dispatch(addToCart(product)),\n    getTotals: () => dispatch(getTotals()),\n  };\n}\n\nexport const addProductToCart = (product: {}) => {\n  let attribute = this.state.attributes;\n  console.log(attribute);\n  this.props.addToCart({ product, attribute });\n  this.props.getTotals();\n  this.predefinedAttributes();\n}\n\nexport const setAttributes = (itm: { id: string }, attr: string) =>{\n  let attribute = this.state.attributes;\n  let a = { [attr]: itm.id };\n  let ab = Object.assign(attribute, a);\n  this.setState({ attributes: ab });\n}\n\nexport const predefinedAttributes = () => {\n  const attributeId = this.state.product.attributes.map((attr) => attr.id);\n  const itemAttributes = this.state.product.attributes.map((attr) => attr);\n  const attribute = itemAttributes.map((itm) => itm.items[0].id);\n  let ab = {};\n  attributeId.forEach((value1, index) => {\n    const value2 = attribute[index];\n    let a = { [value1]: value2 };\n    ab = Object.assign(ab, a);\n  });\n  this.setState({ attributes: ab });\n}"]},"metadata":{},"sourceType":"module"}